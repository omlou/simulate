!function(e,t){var r={tagReg:/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tagMap:{thead:"table",tbody:"table",col:"colgroup",tr:"tbody",td:"tr"},isShow:!0,mountArr:[],loadArr:[],showArr:[],beforeunloadArr:[],hideArr:[],unloadArr:[],get clear(){var e=Object.create(new this.Clear);return Object.defineProperty(e,"length",{value:0,configurable:!0}),e},creatCoputed(e,t){for(let r in t)Object.defineProperty(e,r,{get:t[r]})},creatProxy(e,t){for(let r in t){let n=t[r];Object.defineProperty(e,r,{get:()=>n.value,set(e){var t=n.value;return n.value=e,n.watch(e,t),!0}}),n.immediate&&n.watch(n.value,null)}},getUrl(e){if(!e.url)return"";var t=e.params?encodeURIComponent(JSON.stringify(e.params)):"",r=o.getQueryString(e.query);t&&(r?r+="&clearparams="+t:r="clearparams="+t);var n=-1!==e.url.indexOf("?")?"&"+r:"?"+r;return e.url+n},getAllQuery(){var t=e.location.search.slice(1);if(!t)return{};var r=t.split("&"),n={};for(let e of r){let t=e.split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return n},getPath(){var{pathname:t}=e.location,r=t.lastIndexOf("/")+1,n=t.indexOf(".",r);return(-1!==n?t.slice(r,n):t.slice(r))||"index"},C(e,r){var n=(r=r||t).querySelectorAll(e),s=this.clear;return Object.assign(s,n),this.setLength(s,n.length),s},Clear:function(){for(let e in n)Object.defineProperty(this,e,{get:n[e]});for(let e in s){let t=s[e];Object.defineProperty(this,e,{get:t.get,set:t.set})}for(let e in a)Object.defineProperty(this,e,{value:a[e]})},isElement:e=>1===e.nodeType&&"string"==typeof e.nodeName,createOne(e,t,r){if(this.isElement(t))return e[r]=t,this.setLength(e,r+1),!0;throw"Parameter is not an element"},createAll(e,t,r){for(let n in r){let s=r[n];if(!this.isElement(s))throw"Parameter items are not all elements";e[t]=s,t++}this.setLength(e,t)},initOne(e,t){var r=t();return r&&(e[0]=r,this.setLength(e,1)),e},initAll(e,t,r){var n=0;for(let s in t){let a=r(t[s]);a&&(e[n]=a,n++)}return this.setLength(e,n),e},setLength(e,t){Object.defineProperty(e,"length",{value:t})},switchType(e,t,r){if(0===e.length)throw"Target has no elements";switch(r){case"style":if("string"==typeof t)for(let r in e)e[r].style.cssText=t;else for(let r in e)for(let n in t)e[r].style[n]=t[n];break;case"value":for(let r in e)e[r].value=t;break;case"checked":for(let r in e)e[r].checked=t;break;case"text":for(let r in e)e[r].innerText=t}},switchTask(e,t){if(0===e.length)throw"Target has no elements";var r=this.clear;switch(t){case"parent":return this.initOne(r,()=>e[0].parentNode);case"child":return this.initAll(r,Array.from(e[0].children),e=>e);case"next":return this.initAll(r,e,e=>e.nextElementSibling);case"prev":return this.initAll(r,e,e=>e.previousElementSibling);case"first":return this.initAll(r,e,e=>e.children[0]);case"last":return this.initAll(r,e,e=>{var t=e.children;return t[t.length-1]})}},listenDOMLoad(){t.removeEventListener("DOMContentLoaded",this.listenDOMLoad),this.isShow=!1;for(let e of this.mountArr)e();this.mountArr=[]},initClear:function(){t.addEventListener("DOMContentLoaded",this.listenDOMLoad.bind(this)),e.addEventListener("load",()=>{for(let e of this.loadArr)e()}),e.addEventListener("pageshow",()=>{if(this.isShow)for(let e of this.showArr)e()}),e.addEventListener("beforeunload",()=>{for(let e of this.beforeunloadArr)e()}),e.addEventListener("pagehide",()=>{this.isShow=!0;for(let e of this.hideArr)e()}),e.addEventListener("unload",()=>{for(let e of this.unloadArr)e()});var r={},n=this.getAllQuery(),s=decodeURIComponent(n.clearparams);r.params="undefined"!=s&&""!=s?JSON.parse(s):{},Reflect.deleteProperty(n,"clearparams"),r.query=n,r.path=this.getPath(),e.clearPath=r,e.C=this.C.bind(this),Object.assign(e.C,i),e.C.ajax=o.ajax,e.C.getQueryString=o.getQueryString}},n={parent(){return r.switchTask(this,"parent")},child(){return r.switchTask(this,"child")},next(){return r.switchTask(this,"next")},prev(){return r.switchTask(this,"prev")},first(){return r.switchTask(this,"first")},last(){return r.switchTask(this,"last")},toArray(){return Array.from(this)}},s={style:{get(){return this[0].style},set(e){return r.switchType(this,e,"style")}},value:{get(){return this[0].value},set(e){return r.switchType(this,e,"value")}},checked:{get(){return this[0].checked},set(e){return r.switchType(this,e,"checked")}},text:{get(){return this[0].innerText},set(e){return r.switchType(this,e,"text")}}},a={map(e){for(let t in this)e(this[t],t)},push(e){r.createOne(this,e,this.length)},concat(...e){for(let t of e){let e=this.length;r.createAll(this,e,t)}},nth(e){var t=r.clear;return r.initOne(t,()=>this[e])},render(e){for(let t in this)this[t].innerHTML=e},append(e){for(let t in this)i.createDOM(e).map(e=>{this[t].appendChild(e)})},prepend(e){for(let t in this){let r=this[t],n=r.firstChild;i.createDOM(e).map(e=>{r.insertBefore(e,n)})}},before(e){for(let t in this){let r=this[t],n=r.parentNode;i.createDOM(e).map(e=>{n.insertBefore(e,r)})}},after(e){for(let t in this){let r=this[t],n=r.parentNode,s=r.nextSibling;i.createDOM(e).map(e=>{n.insertBefore(e,s)})}},remove(){for(let e in this){let t=this[e];t.parentNode.removeChild(t)}},show(e){e=e||"";for(let t in this)this[t].style.display=e},hide(){for(let e in this)this[e].style.display="none"},getAttr(e){return this[0].getAttribute(e)},setAttr(e,t){for(let r in this)this[r].setAttribute(e,t)},addClass(e){for(let t in this)this[t].classList.add(e)},removeClass(e){for(let t in this)this[t].classList.remove(e)},hasClass(e){return this[0].classList.contains(e)},bind(e,t,r){for(let n in this)this[n].addEventListener(e,t,r)},unbind(e,t,r){for(let n in this)this[n].removeEventListener(e,t,r)}},i={create(e){var t=r.clear;if(e instanceof NodeList||e instanceof Array){return r.createAll(t,0,e),t}if(r.createOne(t,e,0))return t},createDOM(e){var{tagReg:n,tagMap:s}=r,a=s[n.exec(e)[1]]||"div",i=t.createElement(a);return i.innerHTML=e,Array.from(i.childNodes)},htmlCir(e,t){var r="";for(let n in e)r+=t(e[n],n);return r},str:e=>"object"!=typeof e&&"string"!=typeof e||null===typeof e?e:JSON.stringify(e).replace(/"/g,"&quot;"),one:(e,r)=>(r=r||t).querySelector(e),all:(e,r)=>(r=r||t,Array.from(r.querySelectorAll(e))),page({data:t,computed:n,proxy:s,methods:a,create:i,mount:o,load:l,show:d,beforeunload:h,hide:u,unload:c}){Object.assign(e,t,a),r.creatCoputed(e,n),r.creatProxy(e,s),i&&i(),o&&r.mountArr.push(o),l&&r.loadArr.push(l),d&&r.showArr.push(d),h&&r.beforeunloadArr.push(h),u&&r.hideArr.push(u),c&&r.unloadArr.push(c)},component(t){var{name:n,data:s,computed:a,proxy:i,methods:o}=t;if(!n)throw"Module must have a name";var l={};Object.assign(l,s,o),r.creatCoputed(l,a),r.creatProxy(l,i),e[n]=l},setData(t,r){if(r){var n=r.split(",");for(let r of n)e[r]=t[r]}else Object.assign(e,t)},setProxy(t,n=e){r.creatProxy(n,t)},mount(e){r.mountArr.push(e)},pageshow(e){r.showArr.push(e)},pagehide(e){r.hideArr.push(e)},prevent(e,...t){event.preventDefault(),e&&e(...t)},stop(e,...t){event.stopPropagation(),e&&e(...t)},self(e,...t){var{currentTarget:r,target:n}=event;r===n&&e(...t)},getStore:e=>JSON.parse(localStorage.getItem(e)),setStore(e,t){var r=JSON.stringify(t);localStorage.setItem(e,r)},delStore(e){localStorage.removeItem(e)},clearStore(){localStorage.clear()},push(t){e.location.href=t instanceof Object?r.getUrl(t):t},replace(t){e.location.replace(t instanceof Object?r.getUrl(t):t)},reload(){e.location.reload()},back(){e.history.back()},forward(){e.history.forward()},go(t){e.history.go(t)},getDOC(e,t){let r=new XMLHttpRequest;r.onload=(e=>{t(r.response)}),r.open("GET",e,!0),r.send()},getJSON(e,t){this.getDOC(e,e=>{t(e?JSON.parse(e):"")})},formSubmit(e){var r=document.createElement("form"),n=e.data;Reflect.deleteProperty(e,"data");for(let t in e)e[t]&&(r[t]=e[t]);r.style.display="none";for(let e in n){let t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e),t.value=n[e],r.appendChild(t)}t.body.appendChild(r),r.submit()},deepCopy(e){let t="Array"===e.constructor.name?[]:{};for(let r in e)"object"==typeof e[r]&&null!==e[r]?(t[r]="Array"===e[r].constructor.name?[]:{},t[r]=this.deepCopy(e[r])):t[r]=e[r];return t},filterObject(e,t){var r={},n=new Set(t);if(0===n.size)return Object.assign(r,e);for(let t in e)n.has(t)&&(r[t]=e[t]);return r},toFixed(e,t){if(void 0===e)return;let r=Number(e);if(isNaN(r))throw"argument for C.toFixed error";if(r>Math.pow(10,21))return String(r);let n=Number(t);if(void 0===t||0==n)return String(Math.round(r));if(isNaN(n))throw"The argument of C.toFixed must be a number";if(n>20||n<0)throw"The second argument of C.toFixed must be between 0 and 20";let s=String(r),a=s.split(".");if(a.length<2){s+=".";for(let e=0;e<n;e++)s+="0";return s}let i=a[0],o=a[1];if(o.length==n)return s;if(o.length<n){for(let e=0;e<n-o.length;e++)s+="0";return s}s=i+"."+o.slice(0,n);let l=o.slice(n,n+1);if(parseInt(l,10)>=5){let e=Math.pow(10,n);s=(s=(parseFloat(s)*e+1)/e).toFixed(n)}return s},limitInput(e){var{el:r,rule:n,reg:s,nopass:a,pass:i}=e;t.querySelectorAll(r).forEach(e=>{!function(e){var t=e.value;function r(e){var r=e.target.value,o=!0;if(n){for(let e of n)if(d(e.reg,e.nopass),!o)break}else d(s,a);if(o){var l=t;t=e.target.value,i&&i(t,l)}function d(n,s){n.test(r)||(s({nopassValue:r}),e.target.value=t,o=!1)}}e.addEventListener("input",r),e.addEventListener("compositionstart",t=>{e.removeEventListener("input",r)}),e.addEventListener("compositionend",t=>{r(t),e.addEventListener("input",r)})}(e)})}},o={ajax(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.addEventListener("load",s=>{if(e.getResponse){var a={},i=n.getAllResponseHeaders().split("\r\n");for(let e of i){let t=e.split(": ");t[0]&&(a[t[0]]=t[1])}e.getResponse(a)}var{status:o}=n;200==o?t(n.response):r({status:o,result:n,error:s})}),n.addEventListener("error",e=>{r({status:n.status,result:n,error:e})}),n.addEventListener("timeout",e=>{r({status:n.status,result:n,error:e})}),e.uploadProgress&&(n.upload.addEventListener("loadstart",t=>{e.uploadProgress(t)}),n.upload.addEventListener("progress",t=>{e.uploadProgress(t)}),n.upload.addEventListener("load",t=>{e.uploadProgress(t)}),n.upload.addEventListener("loadend",t=>{e.uploadProgress(t)}),n.upload.addEventListener("error",t=>{e.uploadProgress(t)}));e.downloadProgress&&(n.addEventListener("loadstart",t=>{e.downloadProgress(t)}),n.addEventListener("progress",t=>{e.downloadProgress(t)}),n.addEventListener("loadend",t=>{e.downloadProgress(t)}));var s=e.method,{url:a,params:i,data:o,headers:l,timeout:d,responseType:h,withCredentials:u}=e;i=i||{},o=o||{};var c=!1;s=s?s.toUpperCase():"GET";new Set(["GET","DELETE","HEAD","OPTIONS","TRACE"]).has(s)&&(c=!0);a+=this.getUrlParam(a,i),n.open(s,a,!0),void 0!==u&&(n.withCredentials=u);n.responseType=h||"json";for(let e in l)n.setRequestHeader(e,l[e]),e=e.toLowerCase();l&&l["content-type"]||"FormData"==o.constructor.name?l&&l["content-type"]&&-1!==l["content-type"].indexOf("application/json")&&o instanceof Object&&(o=JSON.stringify(o)):n.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");n.timeout=d||6e4,n.send(c?null:this.getPostParam(o))}.bind(o))},getUrlParam(e,t){if(!t)return"";var r=t instanceof Object?this.getQueryString(t):t;return-1!==e.indexOf("?")?"&"+r:"?"+r},getPostParam(e){return e?"string"==typeof e||e instanceof FormData?e:this.getQueryString(e):null},getQueryString(e){let t=[];if(e instanceof Object)for(let r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}};r.initClear()}(window,document);