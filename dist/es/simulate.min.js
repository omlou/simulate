function e(e=window.location.href){let t={},r=e.indexOf("?");if(-1===r)return t;let n=e.indexOf("#");(-1===n||r>n)&&(n=void 0);let i=e.slice(r+1,n);if(""===i)return t;let o=i.split("&");for(let e of o){if(!e)continue;let r=e.split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return t}function t(e,t=2){e=Number(e),t=Number(t);let r=String(Math.random()).split(".")[1],n="",i="";if(1===e)n=r.slice(0,1),r=r.slice(1);else{let t=r.match(new RegExp(`([1-9]\\d{${e-1}})(\\d*)`));null!==t&&(n=t[1],r=t[2])}return i=0===t?n:n+"."+r.slice(0,t),i}function r(e){e=Number(e);let t=String(Math.random()).split(".")[1].match(new RegExp(`[1-9]\\d{${e-1}}`))||["0"];return parseInt(t[0])}const n=function(){return Math.floor(1e14*Math.random()).toString(36)+Date.now().toString(36)};function i(e=512,t=512,r){if(!document)throw"Function img is only supported in the browser environment";let n=document.createElement("canvas"),i=n.getContext("2d"),o=r?function(e){let t=e.toLowerCase(),r=[];if(/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){let e="#";for(let r=1;r<4;r+=1)e+=t.slice(r,r+1).concat(t.slice(r,r+1));t=e}for(let e=1;e<7;e+=2)r.push(parseInt("0x"+t.slice(e,e+2)));return r}if(/^(rgb\(|RGB\()[\s\S]+\)/.test(t))return r=t.replace(/( |\(|\)|rgb|RGB)+/g,"").split(","),r.map(Number)}(r):[256*Math.random(),256*Math.random(),256*Math.random()],[s,a,l]=o;if(n.width=e,n.height=t,!i)throw"Canvas creation failed";i.beginPath(),i.fillStyle=`rgba(${s},${a},${l},0.2)`;let p=e/5,c=t/5;for(let e=0;e<=4*p;e+=2*p)i.rect(e,0,p,t);i.fill(),i.beginPath(),i.fillStyle=`rgba(${s},${a},${l},0.4)`;for(let e=p;e<=3*p;e+=2*p)i.rect(e,0,p,t);i.fill(),i.beginPath(),i.fillStyle=`rgba(${s},${a},${l},0.4)`;for(let t=0;t<=4*c;t+=2*c)i.rect(0,t,e,c);i.fill(),i.beginPath(),i.fillStyle=`rgba(${s},${a},${l},0.2)`;for(let t=c;t<=3*c;t+=2*c)i.rect(0,t,e,c);return i.fill(),n.toDataURL()}const o={wait:500};function s(t){const{wait:r}=o;let n=window.fetch;window.fetch=function(){let i=arguments[0],o=arguments[1]||{method:"get",body:null},{method:s,body:a}=o,l=i.split("?")[0],p=e(i);s=s.toUpperCase();for(let n in t){let o=t[n];if(o.type=(o.type||"get").toUpperCase(),n===l&&s===o.type){if(a)try{a=JSON.parse(a)}catch(t){a=e(a)}let t=o.response({params:p,type:s,url:l,data:a}),n={ok:!0,status:200,statusText:"OK",url:i,type:"basic",redirected:!1,headers:new Headers,text:()=>new Promise((e=>{e(t)})),json:()=>new Promise((e=>{e(t)})),clone:()=>({...n})};return new Promise((e=>{setTimeout((()=>{e(n)}),r||0)}))}}return n(...arguments)},XMLHttpRequest.prototype.serviceOpen=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){var[r,n]=arguments,i=n.split("?")[0],o=e(n);r=r.toUpperCase();for(let e in t){let n=t[e];if(n.type=(n.type||"get").toUpperCase(),e===i&&r===n.type){Object.defineProperty(this,"__SIMULATE_SERVICE_OBJECT__",{configurable:!0,value:{isService:!0,itemFunc:n.response,type:r,pathname:i,params:o}});break}}this.serviceOpen(...arguments)},XMLHttpRequest.prototype.serviceSend=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){let t=this.__SIMULATE_SERVICE_OBJECT__;if(t){var n=arguments[0],{params:i,pathname:o,type:s,itemFunc:a}=t;if(n)try{n=JSON.parse(n)}catch(t){n=e(n)}var l=a({params:i,type:s,url:o,data:n});Object.defineProperty(this,"responseText",{configurable:!0,value:l}),Object.defineProperty(this,"responseXML",{configurable:!0,value:l}),Object.defineProperty(this,"response",{configurable:!0,value:l}),Object.defineProperty(this,"status",{configurable:!0,value:200}),Object.defineProperty(this,"statusText",{configurable:!0,value:"OK"}),setTimeout((()=>{this.dispatchEvent(new Event("load"))}),r||0)}else this.serviceSend(...arguments)}}s.getConfig=function(){return{...o}},s.setConfig=function(e){Object.assign(o,e)};export{t as fixed,n as id,i as img,r as int,s as serve};
//# sourceMappingURL=simulate.min.js.map
